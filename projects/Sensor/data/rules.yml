version: "3.1"

rules:
- rule: User queries for available sensors
  steps:
  - intent: query_sensor_list
  - action: action_show_sensor_list
- rule: User queries for available locations
  steps:
  - intent: query_location_list
  - action: action_show_location_list
- rule: User queries what is the current value of timerange
  steps:
  - intent: query_value_of_data_timerange
  - action: action_ask_data_value_timerange
- rule: User queries what is the current value of location
  steps:
  - intent: query_value_of_data_location
  - action: action_ask_data_value_location

- rule: sensor_name_fetching_story
  steps:
  - intent : activate_sensor_name_form
  - action : form_sensor_name
  - active_loop : form_sensor_name
  - active_loop : null
  - action : action_search_sensor_by_name
- rule: User asks to load sensor data and to perform aggregation on it
  steps:
  - intent: query_metric_aggregate
  - action: action_sensor_data_load
  - action: action_aggregation

- rule: User wants to change a parameter, reload data and perform aggregation again
  steps:
  - intent: change_source
  - action: action_sensor_data_load
  - action: action_aggregation
