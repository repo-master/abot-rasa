version: "3.1"

stories:
  - story: User asks or queries sensor data with optional aggregate and location
    steps:
    - intent: query_metric_aggregate
    - action: action_metric_aggregate
    # - slot_was_set:
    #   - previous_action: "action_metric_aggregate"
  - story: user wants to change a parameter
    steps:
    - or:
      - intent: change_sensor
      - intent: change_aggregation
      - intent: change_location
    - action: action_metric_aggregate
    # - slot_was_set:
    #     - previous_action
    #   - action: "{previous_action}"

  - story: User did not want the response that they received
    steps:
    #TODO: Use action_two_stage_fallback and action_default_ask_rephrase default actions
    - intent: out_of_scope
    - action: utter_mistake
    - or:
      - intent: change_sensor
      - intent: change_aggregation
      - intent: change_location
    - action: action_metric_aggregate
    - action: utter_corrected



- story: temprature path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_temprature
  - action: utter_temprature

- story: humidity path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_Humidity
  - action: utter_humidity


- story: interactive_story
  steps:
  - intent: ask_temprature
  - action: utter_temprature
  - intent: ask_Humidity
  - action: utter_humidity

- story: fill_the_form
  steps:  
  - intent: inform
  - action: action_extract_slots
  - intent: inform
